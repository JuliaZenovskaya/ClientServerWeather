{"ast":null,"code":"export function addCity(id, name) {\n  return {\n    type: 'ADD_CITY',\n    payload: {\n      id,\n      name\n    }\n  };\n}\nexport function deleteCity(id) {\n  return {\n    type: 'DELETE_CITY',\n    payload: id\n  };\n}\nexport function getCity(cities) {\n  return {\n    type: 'GET_CITY',\n    payload: cities\n  };\n}\nexport function fetchAddedCitiesSuccess(response, city) {\n  return {\n    type: 'FETCH_ADDED_CITY_SUCCESS',\n    payload: {\n      response,\n      city\n    }\n  };\n}\nexport function fetchAddedCitiesError(error, id) {\n  return {\n    type: 'FETCH_ADDED_CITY_ERROR',\n    payload: {\n      error,\n      id\n    }\n  };\n}\nexport function getWeatherByCity(id, name) {\n  console.log(id);\n  console.log(name);\n  return function (dispatch) {\n    fetch(\"/weather?city=\" + name).then(response => {\n      response.json().then(json => {\n        if (response.ok) {\n          dispatch(fetchAddedCitiesSuccess(json, name));\n          console.log(json);\n        } else {\n          let error = json.message;\n          dispatch(fetchAddedCitiesError(error, id));\n        }\n      });\n    }, error => dispatch(fetchAddedCitiesError(error, id)));\n  };\n}","map":{"version":3,"sources":["C:/Users/Jully/ClientServerWeather/client/src/actions/сitiesAction.js"],"names":["addCity","id","name","type","payload","deleteCity","getCity","cities","fetchAddedCitiesSuccess","response","city","fetchAddedCitiesError","error","getWeatherByCity","console","log","dispatch","fetch","then","json","ok","message"],"mappings":"AAEA,OAAO,SAASA,OAAT,CAAiBC,EAAjB,EAAqBC,IAArB,EAA2B;AAChC,SAAO;AACLC,IAAAA,IAAI,EAAE,UADD;AAELC,IAAAA,OAAO,EAAE;AACPH,MAAAA,EADO;AAEPC,MAAAA;AAFO;AAFJ,GAAP;AAOD;AAED,OAAO,SAASG,UAAT,CAAoBJ,EAApB,EAAwB;AAC7B,SAAO;AACLE,IAAAA,IAAI,EAAE,aADD;AAELC,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID;AAED,OAAO,SAASK,OAAT,CAAiBC,MAAjB,EAAyB;AAC9B,SAAO;AACLJ,IAAAA,IAAI,EAAE,UADD;AAELC,IAAAA,OAAO,EAAEG;AAFJ,GAAP;AAID;AAED,OAAO,SAASC,uBAAT,CAAiCC,QAAjC,EAA2CC,IAA3C,EAAiD;AACtD,SAAO;AACLP,IAAAA,IAAI,EAAE,0BADD;AAELC,IAAAA,OAAO,EAAE;AACPK,MAAAA,QADO;AAEPC,MAAAA;AAFO;AAFJ,GAAP;AAOD;AAED,OAAO,SAASC,qBAAT,CAA+BC,KAA/B,EAAsCX,EAAtC,EAA0C;AAC/C,SAAO;AACLE,IAAAA,IAAI,EAAE,wBADD;AAELC,IAAAA,OAAO,EAAE;AACPQ,MAAAA,KADO;AAEPX,MAAAA;AAFO;AAFJ,GAAP;AAOD;AAED,OAAO,SAASY,gBAAT,CAA0BZ,EAA1B,EAA8BC,IAA9B,EAAoC;AACzCY,EAAAA,OAAO,CAACC,GAAR,CAAYd,EAAZ;AACAa,EAAAA,OAAO,CAACC,GAAR,CAAYb,IAAZ;AACD,SAAO,UAASc,QAAT,EAAmB;AACvBC,IAAAA,KAAK,CAAC,mBAAmBf,IAApB,CAAL,CACGgB,IADH,CACQT,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACU,IAAT,GACGD,IADH,CACQC,IAAI,IAAI;AACZ,YAAIV,QAAQ,CAACW,EAAb,EAAiB;AACfJ,UAAAA,QAAQ,CAACR,uBAAuB,CAACW,IAAD,EAAOjB,IAAP,CAAxB,CAAR;AACAY,UAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ;AACD,SAHD,MAGO;AACL,cAAIP,KAAK,GAAGO,IAAI,CAACE,OAAjB;AACAL,UAAAA,QAAQ,CAACL,qBAAqB,CAACC,KAAD,EAAQX,EAAR,CAAtB,CAAR;AACD;AACF,OATH;AAUD,KAZH,EAaEW,KAAK,IAAII,QAAQ,CAACL,qBAAqB,CAACC,KAAD,EAAQX,EAAR,CAAtB,CAbnB;AAcD,GAfF;AAgBA","sourcesContent":["\r\n\r\nexport function addCity(id, name) {\r\n  return {\r\n    type: 'ADD_CITY',\r\n    payload: {\r\n      id,\r\n      name\r\n    }\r\n  };\r\n}\r\n\r\nexport function deleteCity(id) {\r\n  return {\r\n    type: 'DELETE_CITY',\r\n    payload: id\r\n  };\r\n}\r\n\r\nexport function getCity(cities) {\r\n  return {\r\n    type: 'GET_CITY',\r\n    payload: cities\r\n  }\r\n}\r\n\r\nexport function fetchAddedCitiesSuccess(response, city) {\r\n  return {\r\n    type: 'FETCH_ADDED_CITY_SUCCESS',\r\n    payload: {\r\n      response,\r\n      city\r\n    }\r\n  }\r\n}\r\n\r\nexport function fetchAddedCitiesError(error, id) {\r\n  return {\r\n    type: 'FETCH_ADDED_CITY_ERROR',\r\n    payload: {\r\n      error,\r\n      id\r\n    }\r\n  }\r\n}\r\n\r\nexport function getWeatherByCity(id, name) {\r\n  console.log(id);\r\n  console.log(name);\r\n return function(dispatch) {\r\n    fetch(`/weather?city=` + name)\r\n      .then(response => {\r\n        response.json()\r\n          .then(json => {\r\n            if (response.ok) {\r\n              dispatch(fetchAddedCitiesSuccess(json, name));\r\n              console.log(json);\r\n            } else {\r\n              let error = json.message;\r\n              dispatch(fetchAddedCitiesError(error, id));\r\n            }\r\n          });\r\n      },\r\n      error => dispatch(fetchAddedCitiesError(error, id)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}