{"ast":null,"code":"import { fetchAddedCitiesSuccess, fetchAddedCitiesError } from '../actions/сitiesAction';\nexport function getWeatherByCity(cityName) {\n  console.log(cityName);\n  return function (dispatch) {\n    fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(cityName, \"&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en\")).then(response => {\n      response.json().then(json => {\n        if (response.ok) {\n          dispatch(fetchAddedCitiesSuccess(json));\n        } else {\n          let error = json.message;\n          dispatch(fetchAddedCitiesError(error, cityName));\n        }\n      });\n    }, error => dispatch(fetchAddedCitiesError(error, cityName)));\n  };\n}","map":{"version":3,"sources":["D:/Study/Web/sem2/weather/src/fetch/getWeatherByCity.js"],"names":["fetchAddedCitiesSuccess","fetchAddedCitiesError","getWeatherByCity","cityName","console","log","dispatch","fetch","then","response","json","ok","error","message"],"mappings":"AAAA,SAASA,uBAAT,EAAkCC,qBAAlC,QAA+D,yBAA/D;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,SAAO,UAASG,QAAT,EAAmB;AACvBC,IAAAA,KAAK,6DAAsDJ,QAAtD,kEAAL,CACGK,IADH,CACQC,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACC,IAAT,GACGF,IADH,CACQE,IAAI,IAAI;AACZ,YAAID,QAAQ,CAACE,EAAb,EAAiB;AACfL,UAAAA,QAAQ,CAACN,uBAAuB,CAACU,IAAD,CAAxB,CAAR;AACD,SAFD,MAEO;AACL,cAAIE,KAAK,GAAGF,IAAI,CAACG,OAAjB;AACAP,UAAAA,QAAQ,CAACL,qBAAqB,CAACW,KAAD,EAAQT,QAAR,CAAtB,CAAR;AACD;AACF,OARH;AASD,KAXH,EAYES,KAAK,IAAIN,QAAQ,CAACL,qBAAqB,CAACW,KAAD,EAAQT,QAAR,CAAtB,CAZnB;AAaD,GAdF;AAeA","sourcesContent":["import { fetchAddedCitiesSuccess, fetchAddedCitiesError } from '../actions/сitiesAction';\r\n\r\nexport function getWeatherByCity(cityName) {\r\n  console.log(cityName);\r\n return function(dispatch) {\r\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en`)\r\n      .then(response => {\r\n        response.json()\r\n          .then(json => {\r\n            if (response.ok) {\r\n              dispatch(fetchAddedCitiesSuccess(json));\r\n            } else {\r\n              let error = json.message;\r\n              dispatch(fetchAddedCitiesError(error, cityName));\r\n            }\r\n          });\r\n      },\r\n      error => dispatch(fetchAddedCitiesError(error, cityName)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}