{"ast":null,"code":"export function addCity(city) {\n  return {\n    type: 'ADD_CITY',\n    payload: city\n  };\n}\nexport function deleteCity(city) {\n  return {\n    type: 'DELETE_CITY',\n    payload: city\n  };\n}\nexport function fetchAddedCitiesSuccess(response, city) {\n  return {\n    type: 'FETCH_ADDED_CITY_SUCCESS',\n    payload: {\n      response,\n      city\n    }\n  };\n}\nexport function fetchAddedCitiesError(error, city) {\n  return {\n    type: 'FETCH_ADDED_CITY_ERROR',\n    payload: {\n      error,\n      city\n    }\n  };\n}\nexport function getWeatherByCity(city) {\n  return function (dispatch) {\n    fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=e972dcd233bab1ebce419c370711921f\")).then(response => {\n      response.json().then(json => {\n        if (response.ok) {\n          dispatch(fetchAddedCitiesSuccess(json, city));\n        } else {\n          let error = json.message;\n          dispatch(fetchAddedCitiesError(error, city));\n        }\n      });\n    }, error => dispatch(fetchAddedCitiesError(error, city)));\n  };\n}","map":{"version":3,"sources":["C:/Users/Jully/ClientServerWeather/client/src/actions/сitiesAction.js"],"names":["addCity","city","type","payload","deleteCity","fetchAddedCitiesSuccess","response","fetchAddedCitiesError","error","getWeatherByCity","dispatch","fetch","then","json","ok","message"],"mappings":"AAAA,OAAO,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AAC5B,SAAO;AACLC,IAAAA,IAAI,EAAE,UADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID;AAED,OAAO,SAASG,UAAT,CAAoBH,IAApB,EAA0B;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAE,aADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID;AAED,OAAO,SAASI,uBAAT,CAAiCC,QAAjC,EAA2CL,IAA3C,EAAiD;AACtD,SAAO;AACLC,IAAAA,IAAI,EAAE,0BADD;AAELC,IAAAA,OAAO,EAAE;AACPG,MAAAA,QADO;AAEPL,MAAAA;AAFO;AAFJ,GAAP;AAOD;AAED,OAAO,SAASM,qBAAT,CAA+BC,KAA/B,EAAsCP,IAAtC,EAA4C;AACjD,SAAO;AACLC,IAAAA,IAAI,EAAE,wBADD;AAELC,IAAAA,OAAO,EAAE;AACPK,MAAAA,KADO;AAEPP,MAAAA;AAFO;AAFJ,GAAP;AAOD;AAED,OAAO,SAASQ,gBAAT,CAA0BR,IAA1B,EAAgC;AACtC,SAAO,UAASS,QAAT,EAAmB;AACvBC,IAAAA,KAAK,6DAAsDV,IAAtD,6CAAL,CACGW,IADH,CACQN,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACO,IAAT,GACGD,IADH,CACQC,IAAI,IAAI;AACZ,YAAIP,QAAQ,CAACQ,EAAb,EAAiB;AACfJ,UAAAA,QAAQ,CAACL,uBAAuB,CAACQ,IAAD,EAAOZ,IAAP,CAAxB,CAAR;AACD,SAFD,MAEO;AACL,cAAIO,KAAK,GAAGK,IAAI,CAACE,OAAjB;AACAL,UAAAA,QAAQ,CAACH,qBAAqB,CAACC,KAAD,EAAQP,IAAR,CAAtB,CAAR;AACD;AACF,OARH;AASD,KAXH,EAYEO,KAAK,IAAIE,QAAQ,CAACH,qBAAqB,CAACC,KAAD,EAAQP,IAAR,CAAtB,CAZnB;AAaD,GAdF;AAeA","sourcesContent":["export function addCity(city) {\r\n  return {\r\n    type: 'ADD_CITY',\r\n    payload: city\r\n  };\r\n}\r\n\r\nexport function deleteCity(city) {\r\n  return {\r\n    type: 'DELETE_CITY',\r\n    payload: city\r\n  };\r\n}\r\n\r\nexport function fetchAddedCitiesSuccess(response, city) {\r\n  return {\r\n    type: 'FETCH_ADDED_CITY_SUCCESS',\r\n    payload: {\r\n      response,\r\n      city\r\n    }\r\n  }\r\n}\r\n\r\nexport function fetchAddedCitiesError(error, city) {\r\n  return {\r\n    type: 'FETCH_ADDED_CITY_ERROR',\r\n    payload: {\r\n      error,\r\n      city\r\n    }\r\n  }\r\n}\r\n\r\nexport function getWeatherByCity(city) {\r\n return function(dispatch) {\r\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=e972dcd233bab1ebce419c370711921f`)\r\n      .then(response => {\r\n        response.json()\r\n          .then(json => {\r\n            if (response.ok) {\r\n              dispatch(fetchAddedCitiesSuccess(json, city));\r\n            } else {\r\n              let error = json.message;\r\n              dispatch(fetchAddedCitiesError(error, city));\r\n            }\r\n          });\r\n      },\r\n      error => dispatch(fetchAddedCitiesError(error, city)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}