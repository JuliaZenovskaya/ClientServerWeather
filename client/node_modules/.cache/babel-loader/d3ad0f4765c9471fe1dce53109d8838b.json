{"ast":null,"code":"import { fetchAddedCitiesSuccess, fetchAddedCitiesError } from '../actions/сitiesAction';\nexport function getWeatherByCity(cityName) {\n  return function (dispatch) {\n    fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(cityName, \"&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en\")).then(response => {\n      response.json().then(json => {\n        if (response.ok) {\n          dispatch(fetchAddedCitiesSuccess(json));\n        } else {\n          let error = json.message;\n          dispatch(fetchAddedCitiesError(error, cityName));\n        }\n      });\n    }, error => dispatch(fetchAddedCitiesError(error, cityName)));\n  };\n}","map":{"version":3,"sources":["D:/Study/Web/sem2/weather/src/fetch/getWeatherByCity.js"],"names":["fetchAddedCitiesSuccess","fetchAddedCitiesError","getWeatherByCity","cityName","dispatch","fetch","then","response","json","ok","error","message"],"mappings":"AAAA,SAASA,uBAAT,EAAkCC,qBAAlC,QAA+D,yBAA/D;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AAC1C,SAAO,UAASC,QAAT,EAAmB;AACxBC,IAAAA,KAAK,6DAAsDF,QAAtD,kEAAL,CACGG,IADH,CACQC,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACC,IAAT,GACGF,IADH,CACQE,IAAI,IAAI;AACZ,YAAID,QAAQ,CAACE,EAAb,EAAiB;AACfL,UAAAA,QAAQ,CAACJ,uBAAuB,CAACQ,IAAD,CAAxB,CAAR;AACD,SAFD,MAEO;AACL,cAAIE,KAAK,GAAGF,IAAI,CAACG,OAAjB;AACAP,UAAAA,QAAQ,CAACH,qBAAqB,CAACS,KAAD,EAAQP,QAAR,CAAtB,CAAR;AACD;AACF,OARH;AASD,KAXH,EAYEO,KAAK,IAAIN,QAAQ,CAACH,qBAAqB,CAACS,KAAD,EAAQP,QAAR,CAAtB,CAZnB;AAaA,GAdF;AAeA","sourcesContent":["import { fetchAddedCitiesSuccess, fetchAddedCitiesError } from '../actions/сitiesAction';\r\n\r\nexport function getWeatherByCity(cityName) {\r\n return function(dispatch) {\r\n   fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en`)\r\n     .then(response => {\r\n       response.json()\r\n         .then(json => {\r\n           if (response.ok) {\r\n             dispatch(fetchAddedCitiesSuccess(json));\r\n           } else {\r\n             let error = json.message;\r\n             dispatch(fetchAddedCitiesError(error, cityName));\r\n           }\r\n         });\r\n     },\r\n     error => dispatch(fetchAddedCitiesError(error, cityName)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}