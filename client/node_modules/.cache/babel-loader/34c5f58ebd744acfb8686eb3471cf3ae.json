{"ast":null,"code":"import { getSuccessResponse, getErrorResponse } from '../actions/сitiesAction';\nexport function getWeatherByCity(cityName) {\n  return function (dispatch) {\n    fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(cityName, \"&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en\")).then(response => {\n      response.json().then(json => {\n        if (response.ok) {\n          dispatch(getErrorResponse(json, cityName));\n        } else {\n          let error = json.message;\n          dispatch(getSuccessResponse(error, cityName));\n        }\n      });\n    }, error => dispatch(getSuccessResponse(error, cityName)));\n  };\n}","map":{"version":3,"sources":["D:/Study/Web/sem2/weather/src/fetch/getWeatherByCity.js"],"names":["getSuccessResponse","getErrorResponse","getWeatherByCity","cityName","dispatch","fetch","then","response","json","ok","error","message"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,gBAA7B,QAAqD,yBAArD;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AAC1C,SAAO,UAASC,QAAT,EAAmB;AACvBC,IAAAA,KAAK,6DAAsDF,QAAtD,kEAAL,CACGG,IADH,CACQC,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACC,IAAT,GACGF,IADH,CACQE,IAAI,IAAI;AACZ,YAAID,QAAQ,CAACE,EAAb,EAAiB;AACfL,UAAAA,QAAQ,CAACH,gBAAgB,CAACO,IAAD,EAAOL,QAAP,CAAjB,CAAR;AACD,SAFD,MAEO;AACL,cAAIO,KAAK,GAAGF,IAAI,CAACG,OAAjB;AACAP,UAAAA,QAAQ,CAACJ,kBAAkB,CAACU,KAAD,EAAQP,QAAR,CAAnB,CAAR;AACD;AACF,OARH;AASD,KAXH,EAYEO,KAAK,IAAIN,QAAQ,CAACJ,kBAAkB,CAACU,KAAD,EAAQP,QAAR,CAAnB,CAZnB;AAaD,GAdF;AAeA","sourcesContent":["import { getSuccessResponse, getErrorResponse } from '../actions/сitiesAction';\r\n\r\nexport function getWeatherByCity(cityName) {\r\n return function(dispatch) {\r\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en`)\r\n      .then(response => {\r\n        response.json()\r\n          .then(json => {\r\n            if (response.ok) {\r\n              dispatch(getErrorResponse(json, cityName));\r\n            } else {\r\n              let error = json.message;\r\n              dispatch(getSuccessResponse(error, cityName));\r\n            }\r\n          });\r\n      },\r\n      error => dispatch(getSuccessResponse(error, cityName)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}