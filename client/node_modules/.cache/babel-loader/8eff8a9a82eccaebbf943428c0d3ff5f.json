{"ast":null,"code":"import { fetchAddedCitiesSuccess, fetchAddedCitiesError } from '../actions/сitiesAction';\nexport function getWeatherByCity(city) {\n  return function (dispatch) {\n    fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en\")).then(response => {\n      response.json().then(json => {\n        if (response.ok) {\n          dispatch(fetchAddedCitiesSuccess(json, city));\n        } else {\n          let error = json.message;\n          dispatch(fetchAddedCitiesError(error, city));\n        }\n      });\n    }, error => dispatch(fetchAddedCitiesError(error, city)));\n  };\n}","map":{"version":3,"sources":["D:/Study/Web/sem2/weather/src/fetch/getWeatherByCity.js"],"names":["fetchAddedCitiesSuccess","fetchAddedCitiesError","getWeatherByCity","city","dispatch","fetch","then","response","json","ok","error","message"],"mappings":"AAAA,SAASA,uBAAT,EAAkCC,qBAAlC,QAA+D,yBAA/D;AAEA,OAAO,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;AACtC,SAAO,UAASC,QAAT,EAAmB;AACvBC,IAAAA,KAAK,6DAAsDF,IAAtD,kEAAL,CACGG,IADH,CACQC,QAAQ,IAAI;AAChBA,MAAAA,QAAQ,CAACC,IAAT,GACGF,IADH,CACQE,IAAI,IAAI;AACZ,YAAID,QAAQ,CAACE,EAAb,EAAiB;AACfL,UAAAA,QAAQ,CAACJ,uBAAuB,CAACQ,IAAD,EAAOL,IAAP,CAAxB,CAAR;AACD,SAFD,MAEO;AACL,cAAIO,KAAK,GAAGF,IAAI,CAACG,OAAjB;AACAP,UAAAA,QAAQ,CAACH,qBAAqB,CAACS,KAAD,EAAQP,IAAR,CAAtB,CAAR;AACD;AACF,OARH;AASD,KAXH,EAYEO,KAAK,IAAIN,QAAQ,CAACH,qBAAqB,CAACS,KAAD,EAAQP,IAAR,CAAtB,CAZnB;AAaD,GAdF;AAeA","sourcesContent":["import { fetchAddedCitiesSuccess, fetchAddedCitiesError } from '../actions/сitiesAction';\r\n\r\nexport function getWeatherByCity(city) {\r\n return function(dispatch) {\r\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=7825ce4ffa896c5019e53087c858568a&units=metric&lang=en`)\r\n      .then(response => {\r\n        response.json()\r\n          .then(json => {\r\n            if (response.ok) {\r\n              dispatch(fetchAddedCitiesSuccess(json, city));\r\n            } else {\r\n              let error = json.message;\r\n              dispatch(fetchAddedCitiesError(error, city));\r\n            }\r\n          });\r\n      },\r\n      error => dispatch(fetchAddedCitiesError(error, city)))\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}